!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AppendGrid=t():e.AppendGrid=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.icons={append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null},this.isTextBased=n}var t,n,r;return t=e,(n=[{key:"generateIcon",value:function(e,t){throw"*generateIcon* is not overrided for *".concat(this.name,"*.")}}])&&o(t.prototype,n),r&&o(t,r),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=u(this,a(t).call(this,"icon-default",!0)),Object.assign(n.icons,{append:"＋",removeLast:"－",insert:"↜",remove:"✕",moveUp:"▲",moveDown:"▼"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createTextNode(this.icons[t]||"");return e.appendChild(n),n}}])&&l(n.prototype,o),i&&l(n,i),t}();function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n&&n.length&&n.forEach(function(t){if(t){var n=t.split(/\s+/gi);n&&n.length&&n.forEach(function(t){t&&e.classList.add(t)})}})}function p(e){return null==e}function d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=document.createElement(e);return t&&(i.id=t),n&&(i.name=n),o&&f(i,o),r&&(i.type=r),i}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=v(this,w(t).call(this,"icon-fontawesome5")),Object.assign(n.icons,{append:"fas fa-plus",removeLast:"fas fa-minus",insert:"fas fa-reply",remove:"fas fa-times",moveUp:"fas fa-angle-up",moveDown:"fas fa-angle-down"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createElement("i");return f(n,this.icons[t]),e.appendChild(n),n}}])&&b(n.prototype,o),i&&b(n,i),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=k(this,P(t).call(this,"icon-materialdesignicons3")),Object.assign(n.icons,{append:"mdi mdi-plus",removeLast:"mdi mdi-minus",insert:"mdi mdi-reply",remove:"mdi mdi-close",moveUp:"mdi mdi-chevron-up",moveDown:"mdi mdi-chevron-down"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createElement("span");return f(n,this.icons[t]),e.appendChild(n),n}}])&&_(n.prototype,o),i&&_(n,i),t}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=R(this,B(t).call(this,"icon-ionicon4")),Object.assign(n.icons,{append:"icon ion-md-add",removeLast:"icon ion-md-remove",insert:"icon ion-md-undo",remove:"icon ion-md-close",moveUp:"icon ion-md-arrow-dropup",moveDown:"icon ion-md-arrow-dropdown"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createElement("i");return f(n,this.icons[t]),e.appendChild(n),n}}])&&x(n.prototype,o),i&&x(n,i),t}();function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=D(this,G(t).call(this,"icon-typicons2")),Object.assign(n.icons,{append:"typcn typcn-plus",removeLast:"typcn typcn-minus",insert:"typcn typcn-arrow-back",remove:"typcn typcn-times",moveUp:"typcn typcn-arrow-sorted-up",moveDown:"typcn typcn-arrow-sorted-down"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createElement("span");return f(n,this.icons[t]),e.appendChild(n),n}}])&&L(n.prototype,o),i&&L(n,i),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=$(this,q(t).call(this,"icon-openiconic")),Object.assign(n.icons,{append:"plus",removeLast:"minus",insert:"share",remove:"x",moveUp:"chevron-top",moveDown:"chevron-bottom"}),e&&Object.assign(n.icons,e),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r),n=t,(o=[{key:"generateIcon",value:function(e,t){var n=document.createElement("span");return n.className="oi",n.dataset.glyph=this.icons[t],n.setAttribute("aria-hidden","true"),e.appendChild(n),n}}])&&U(n.prototype,o),i&&U(n,i),t}();function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iconFramework=t,this.sectionClasses={wrapper:"ag-wrapper",table:null,thead:null,theadRow:null,theadCell:null,tbody:null,tbodyRow:null,tbodyCell:null,tfoot:null,tfootRow:null,tfootCell:null,first:null,last:null,control:null,button:null,buttonGroup:null,append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null}}var t,n,o;return t=e,(n=[{key:"applySectionClasses",value:function(e){for(var t in this.sectionClasses)e[t]&&(this.sectionClasses[t]?this.sectionClasses[t]+=" "+e[t]:this.sectionClasses[t]=e[t])}},{key:"getSectionClasses",value:function(e){return this.sectionClasses[e]}},{key:"createButtonGroup",value:function(){return null}},{key:"generateButton",value:function(e,t,n){var o=y("button",n,null,null,"button");return f(o,this.getSectionClasses("button"),this.getSectionClasses(t)),e.appendChild(o),this.iconFramework.generateIcon(o,t),o}},{key:"generateControl",value:function(e,t,n,o){var r=null;if("select"===t.type)if(r=y("select",n,o),Array.isArray(t.ctrlOptions)){if(t.ctrlOptions.length>0)if(m(t.ctrlOptions[0]))for(var i=null,l=null,u=0;u<t.ctrlOptions.length;u++){p(t.ctrlOptions[u].group)?l=null:i!==t.ctrlOptions[u].group&&(i=t.ctrlOptions[u].group,(l=y("optgroup")).label=i,r.appendChild(l));var a=y("option");a.value=t.ctrlOptions[u].value,a.innerText=t.ctrlOptions[u].label,p(t.ctrlOptions[u].title)||a.setAttribute("title",t.ctrlOptions[u].title),null===l?a.appendTo(r):a.appendTo(l)}else for(var c=0;c<t.ctrlOptions.length;c++){var s=t.ctrlOptions[c];r.options[r.options.length]=new Option(s,s)}}else if(m(t.ctrlOptions))for(var d in t.ctrlOptions)r.options[r.options.length]=new Option(t.ctrlOptions[d],d);else if("string"==typeof t.ctrlOptions)for(var h=t.ctrlOptions.split(";"),b=0;b<h.length;b++){var v=h[b].indexOf(":");r.options[r.options.length]=-1===v?new Option(h[b],h[b]):new Option(h[b].substring(v+1,h[b].length),h[b].substring(0,v))}else"function"==typeof t.ctrlOptions&&t.ctrlOptions(r);else if("checkbox"===t.type)(r=y("input",n,o,null,"checkbox")).value=1;else if("textarea"===t.type)r=y("textarea",n,o);else if(-1!=t.type.search(/^(color|date|datetime|datetime\-local|email|month|number|range|search|tel|time|url|week)$/)){r=y("input",n,o);try{r.type=t.type}catch(e){}}else(r=y("input",n,o)).type="text";return f(r,this.getSectionClasses("control"),t.ctrlClass),e&&e.appendChild(r),r}}])&&W(t.prototype,n),o&&W(t,o),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=K(this,Q(t).call(this,n))).name="ui-default",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,z),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e,t,n){return(ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=te(this,oe(t).call(this,n))).name="ui-bootstrap4";var r={useButtonGroup:!0,sectionClasses:null};Object.assign(r,e);var i={table:"table",thead:"thead-light",control:"form-control",button:"btn",buttonGroup:"btn-group",append:"btn-outline-secondary",removeLast:"btn-outline-secondary",insert:"btn-outline-secondary",remove:"btn-outline-secondary",moveUp:"btn-outline-secondary",moveDown:"btn-outline-secondary"};return r.sectionClasses&&Object.assign(i,r.sectionClasses),o.applySectionClasses(i),o.uiParams=r,o}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,z),n=t,(o=[{key:"createButtonGroup",value:function(){if(this.uiParams.useButtonGroup){var e=document.createElement("div");return f(e,this.getSectionClasses("buttonGroup")),e}return ne(oe(t.prototype),"createButtonGroup",this).call(this)}},{key:"generateControl",value:function(e,n,o,r){var i=null;if("checkbox"===n.type){var l=y("div",null,null,"form-check");e.appendChild(l),(i=y("input",o,r,"form-check-input position-static")).type="checkbox",i.value=1,l.appendChild(i)}else i=ne(oe(t.prototype),"generateControl",this).call(this,e,n,o,r);return i}}])&&ee(n.prototype,o),r&&ee(n,r),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=se(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=ae(this,se(t).call(this,n))).name="ui-bulma";var r={useButtonGroup:!0,sectionClasses:null};Object.assign(r,e);var i={table:"table",first:"is-narrow",last:"is-narrow",control:"input",button:"button",buttonGroup:"field has-addons",append:"is-outlined",removeLast:"is-outlined",insert:"is-outlined",remove:"is-outlined",moveUp:"is-outlined",moveDown:"is-outlined"};return r.sectionClasses&&Object.assign(i,r.sectionClasses),o.applySectionClasses(i),o.uiParams=r,o}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,z),n=t,(o=[{key:"generateButton",value:function(e,t){var n=document.createElement("button");n.type="button",f(n,this.getSectionClasses("button")),f(n,this.getSectionClasses(t));var o=null;if(this.iconFramework.isTextBased?o=n:((o=document.createElement("span")).classList.add("icon"),n.appendChild(o)),this.iconFramework.generateIcon(o,t),this.uiParams.useButtonGroup){var r=document.createElement("p");r.classList.add("control"),r.appendChild(n),e.appendChild(r)}else e.appendChild(n);return n}},{key:"createButtonGroup",value:function(){if(this.uiParams.useButtonGroup){var e=document.createElement("div");return f(e,this.getSectionClasses("buttonGroup")),e}return ce(se(t.prototype),"createButtonGroup",this).call(this)}},{key:"generateControl",value:function(e,n,o,r){var i=null;if("select"===n.type){var l=y("div",null,null,"select");e.appendChild(l),i=ce(se(t.prototype),"generateControl",this).call(this,null,n,o,r),l.appendChild(i)}else if("checkbox"===n.type){var u=y("label",null,null,"checkbox");e.appendChild(u),(i=y("input",o,r,null,"checkbox")).value=1,u.appendChild(i)}else i=ce(se(t.prototype),"generateControl",this).call(this,e,n,o,r);return i}}])&&ue(n.prototype,o),r&&ue(n,r),t}();function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ye(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=be(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=ye(this,be(t).call(this,n))).name="ui-foundation6";var r={useButtonGroup:!0,sectionClasses:null};Object.assign(r,e);var i={button:"button",buttonGroup:"button-group"};return r.sectionClasses&&Object.assign(i,r.sectionClasses),o.applySectionClasses(i),o.uiParams=r,o}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,z),n=t,(o=[{key:"createButtonGroup",value:function(){if(this.uiParams.useButtonGroup){var e=document.createElement("div");return f(e,this.getSectionClasses("buttonGroup")),e}return he(be(t.prototype),"createButtonGroup",this).call(this)}}])&&me(n.prototype,o),r&&me(n,r),t}();function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;Object.assign(n,{uniqueIndex:0,rowOrder:[],isDataLoaded:!1,visibleCount:0,finalColSpan:0,hideLastColumn:!1,wrapperId:null,settings:null,tbWhole:null,tbBody:null,iconFramework:null,uiFramework:null});var o=Object.assign({},t);n.settings=o,console.debug("ag:Options initialized");var r=o.element;if(!r||!r.tagName||"TABLE"!==r.tagName)throw"*element* is not defined or is not a table DOM element.";if(n.tbWhole=r,r.innerHTML="",console.debug("ag:Checked element"),"fontawesome5"===o.iconFramework)n.iconFramework=new O(o.iconParams);else if("ionicon4"===o.iconFramework)n.iconFramework=new T(o.iconParams);else if("materialdesignicons3"===o.iconFramework)n.iconFramework=new S(o.iconParams);else if("openiconic"===o.iconFramework)n.iconFramework=new H(o.iconParams);else if("typicons2"===o.iconFramework)n.iconFramework=new A(o.iconParams);else{if(o.iconFramework&&"default"!==o.iconFramework)throw"Unknown Icon framework *".concat(o.iconFramework,"*.");n.iconFramework=new s(o.iconParams)}if(console.debug("ag:Checked icon framework"),"bootstrap4"===o.uiFramework)n.uiFramework=new ie(o.uiParams,n.iconFramework);else if("bulma"===o.uiFramework)n.uiFramework=new pe(o.uiParams,n.iconFramework);else if("foundation6"===o.uiFramework)n.uiFramework=new we(o.uiParams,n.iconFramework);else{if(o.uiFramework&&"default"!==o.uiFramework)throw"Unknown UI framework *".concat(o.uiFramework,"*.");n.uiFramework=new Y(o.uiParams,n.iconFramework)}console.debug("ag:Checked ui framework"),p(o.idPrefix)&&(r.id?o.idPrefix=r.id:o.idPrefix="ag"+(new Date).getTime(),console.debug("*idPrefix* = ".concat(o.idPrefix))),o.sectionClasses&&n.uiFramework.applySectionClasses(o.sectionClasses),f(r,n.uiFramework.getSectionClasses("table"));var i=n.createElement("div","wrapper");r.parentNode.insertBefore(i,r),i.appendChild(r);var l=n.createElement("thead");r.appendChild(l);var u=n.createElement("tr","theadRow");l.appendChild(u);var a=n.createElement("th","theadCell");u.appendChild(a);for(var c=0;c<o.columns.length;c++)if("hidden"!==o.columns[c].type){if(f(a=n.createElement("th","theadCell"),o.columns[c].displayClass),!p(o.columns[c].displayCss))for(var d in o.columns[c].displayCss)a.style[d]=o.columns[c].displayCss[d];a.innerText=o.columns[c].display,u.appendChild(a)}a=n.createElement("th","theadCell"),u.appendChild(a);var m=n.createElement("tbody");r.appendChild(m),u=n.createElement("tr","tbodyRow"),m.appendChild(u),(a=n.createElement("td","tbodyCell")).colSpan=o.columns.length+2,u.appendChild(a),n.tbBody=m;var h=n.createElement("tfoot");r.appendChild(h),u=n.createElement("tr","tfootRow"),h.appendChild(u),(a=n.createElement("td","tfootCell")).colSpan=o.columns.length+2,u.appendChild(a);var b=o.idPrefix+"_rowOrder",v=y("input",b,b,null,"hidden");a.appendChild(v);var w=n.uiFramework.createButtonGroup();w?a.appendChild(w):w=a,n.uiFramework.generateButton(w,"append").addEventListener("click",function(e){n.insertRow(1)}),n.uiFramework.generateButton(w,"removeLast").addEventListener("click",function(e){n.removeRow()}),n.settings=o,Array.isArray(o.initData)?n.loadData(o.initData,!0):n.insertRow(o.initRows),console.debug("ag:Initialized")}var t,n,o;return t=e,(n=[{key:"createElement",value:function(e,t){var n=document.createElement(e);return f(n,this.uiFramework.getSectionClasses(t||e)),n}},{key:"loadData",value:function(e,t){if(!Array.isArray(e)||!e.length)throw"*records* should be in array format!";var n=this.settings;this.tbBody.innerHTML="",this.rowOrder.length=0,this.uniqueIndex=0;for(var o=this.insertRow(e.length),r=0;r<o.addedRows.length;r++)for(var i=0;i<n.columns.length;i++)this.setCtrlValue(i,this.rowOrder[r],e[r][n.columns[i].name]);this.isDataLoaded=!0,t&&(this.settings.initData=null)}},{key:"insertRow",value:function(e,t,n){var o,r,i,l=this,u=l.settings,a=l.uiFramework,c=l.tbBody,s=[],m=null,h=[],b=e,v=!1;if(Array.isArray(e)&&(b=e.length,v=!0),d(n)){for(var w=0;w<l.rowOrder.length;w++)if(l.rowOrder[w]===n){t=w,0!==w&&(m=w-1);break}}else d(t)?t>=l.rowOrder.length?t=null:m=t-1:0!==l.rowOrder.length&&(t=null,m=l.rowOrder.length-1);0===l.rowOrder.length&&(c.innerHTML="");for(var g=function(n){l.uniqueIndex++,i=l.uniqueIndex,h.length=0,d(t)?(l.rowOrder.splice(t,0,i),c.insertBefore(o=document.createElement("tr"),c.childNodes[t]),s.push(t)):(l.rowOrder.push(i),c.appendChild(o=document.createElement("tr")),s.push(l.rowOrder.length-1)),o.id=u.idPrefix+"_$Row_"+i,o.dataset.uniqueIndex=i,f(o,a.getSectionClasses("tbodyRow")),u.hideRowNumColumn||(o.appendChild(r=document.createElement("td")),r.id=u.idPrefix+"_$RowNum_"+i,r.innerText=""+l.rowOrder.length);for(var m=0;m<u.columns.length;m++)if("hidden"!==u.columns[m].type){if(o.appendChild(r=document.createElement("td")),r.id=u.idPrefix+"_"+u.columns[m].name+"_$Cell_"+i,f(r,a.getSectionClasses("tbodyCell"),u.columns[m].cellClass),!p(u.columns[m].cellCss))for(var b in u.columns[m].cellCss)r.style[b]=u.columns[m].cellCss[b];var w=null;u.columns[m].wrapper&&("function"==typeof u.columns[m].wrapper?w=u.columns[m].wrapper():u.columns[m].wrapper.tagName&&(w=u.columns[m].wrapper.cloneNode(!0))),w?r.appendChild(w):w=r;var g=u.idPrefix+"_"+u.columns[m].name+"_"+i,O=void 0;O="function"==typeof u.nameFormatter?u.nameFormatter(u.idPrefix,u.columns[m].name,i):g;var C=null;if("custom"===u.columns[m].type)"function"==typeof u.columns[m].customBuilder&&(C=u.columns[m].customBuilder(w,u.idPrefix,u.columns[m].name,i));else{if(C=l.uiFramework.generateControl(w,u.columns[m],g,O),!p(u.columns[m].ctrlAttr))for(var _ in u.columns[m].ctrlAttr)C.setAttribute(_,u.columns[m].ctrlAttr[_]);if(!p(u.columns[m].ctrlCss))for(var k in u.columns[m].ctrlCss)C.style[k]=u.columns[m].ctrlCss[k];if(u.columns[m].events){C.dataset.columnName=u.columns[m].name,C.dataset.uniqueIndex=i;var P=function(e){var t=u.columns[m].events[e];C.addEventListener(e,function(e){e.columnName=e.currentTarget.dataset.columnName,e.uniqueIndex=e.currentTarget.dataset.uniqueIndex,t(e)})};for(var j in u.columns[m].events)P(j)}}v?l.setCtrlValue(m,i,e[n][u.columns[m].name]):p(u.columns[m].value)||l.setCtrlValue(m,i,u.columns[m].value)}else h.push(m);if(!l.hideLastColumn||u.columns.length>l.visibleCount){u.rowButtonsInFront?u.hideRowNumColumn?o.insertBefore(r=document.createElement("td"),o.firstChild):o.insertBefore(r=document.createElement("td"),o.childNodes[1]):o.appendChild(r=document.createElement("td")),r.id=u.idPrefix+"_last_td_"+i,f(r,a.getSectionClasses("tbodyCell"),a.getSectionClasses("last")),l.hideLastColumn&&(r.style.display="none");var S=a.createButtonGroup();S?r.appendChild(S):S=r,["insert","remove","moveUp","moveDown"].forEach(function(e){if(!u.hideButtons[e]){var t=u.idPrefix+"_$"+e+"_"+i,n=a.generateButton(S,e,t);n.dataset.uniqueIndex=i,n.addEventListener("click",function(t){var n=parseInt(t.currentTarget.dataset.uniqueIndex);return l.rowButtonActions(e,n),t.preventDefault(),!1})}}),h.forEach(function(t){var o,a=u.columns[t].name,c=u.idPrefix+"_"+a+"_"+i;o="function"==typeof u.nameFormatter?u.nameFormatter(u.idPrefix,a,i):c,r.appendChild(y("input",c,o,null,"hidden")),v?l.setCtrlValue(t,i,e[n][a]):p(u.columns[t].value)||l.setCtrlValue(t,i,u.columns[t].value)})}},O=0;O<b;O++)g(O);return l.saveSetting(),p(t)||l.sortSequence(t),{addedRows:s,parentIndex:m,rowIndex:t}}},{key:"removeRow",value:function(e,t,n){var o=this.settings,r=this.tbWhole,i=this.tbBody;if(d(t))for(var l=0;l<this.rowOrder.length;l++)if(this.rowOrder[l]===t){e=l;break}d(e)?(n||"function"!=typeof o.beforeRowRemove||o.beforeRowRemove(r,e))&&(this.rowOrder.splice(e,1),i.removeChild(i.childNodes[e]),this.saveSetting(),this.sortSequence(e)):(n||"function"!=typeof o.beforeRowRemove||o.beforeRowRemove(r,this.rowOrder.length-1))&&(t=this.rowOrder.pop(),i.removeChild(i.lastChild),this.saveSetting())}},{key:"moveUpRow",value:function(e,t){var n=null,o=this.settings,r=this.tbBody;if(d(e)&&e>0&&e<this.rowOrder.length?(n=e,t=this.rowOrder[e]):d(t)&&(n=this.findRowIndex(t)),!p(n)&&n>0){var i=this.rowOrder[n-1],l=document.getElementById(o.idPrefix+"_$Row_"+t),u=document.getElementById(o.idPrefix+"_$Row_"+i);r.removeChild(l),r.insertBefore(l,u),this.rowOrder[n]=i,this.rowOrder[n-1]=t;var a=document.getElementById(o.idPrefix+"_$RowNum_"+t),c=document.getElementById(o.idPrefix+"_$RowNum_"+i),s=c.innerHTML;c.innerHTML=a.innerHTML,a.innerHTML=s,this.saveSetting(),document.getElementById(o.idPrefix+"_$MoveUp_"+t).blur(),document.getElementById(o.idPrefix+"_$MoveUp_"+i).focus()}}},{key:"moveDownRow",value:function(e,t){var n=null,o=this.settings,r=this.tbBody;if(d(e)&&e>=0&&e<this.rowOrder.length-1?(n=e,t=this.rowOrder[e]):d(t)&&(n=this.findRowIndex(t)),!p(n)&&n!==this.rowOrder.length-1){var i=this.rowOrder[n+1],l=document.getElementById(o.idPrefix+"_Row_"+t),u=document.getElementById(o.idPrefix+"_Row_"+i);r.removeChild(u),r.insertBefore(u,l),this.rowOrder[n]=i,this.rowOrder[n+1]=t;var a=document.getElementById(o.idPrefix+"_$RowNum_"+t),c=document.getElementById(o.idPrefix+"_$RowNum_"+i),s=c.innerHTML;c.innerHTML=a.innerHTML,a.innerHTML=s,this.saveSetting(),document.getElementById(o.idPrefix+"_$MoveDown_"+t).blur(),document.getElementById(o.idPrefix+"_$MoveDown_"+i).focus()}}},{key:"setCtrlValue",value:function(e,t,n){var o=this.settings,r=o.columns[e].type,i=o.columns[e].name;if("custom"===r)"function"==typeof o.columns[e].customSetter&&o.columns[e].customSetter(o.idPrefix,i,t,n);else{var l=this.getCellCtrl(r,o.idPrefix,i,t);"checkbox"===r?l.checked=null!==n&&0!==n:l.value=n||""}}},{key:"getCellCtrl",value:function(e,t,n,o){return document.getElementById(t+"_"+n+"_"+o)}},{key:"getCtrlValue",value:function(e,t){var n=this.settings,o=n.columns[e];if("custom"===o.type){if("function"==typeof o.customGetter)return o.customGetter(n.idPrefix,o.name,t);throw"*customGetter* of column *".concat(o.name,"* is not defined.")}var r=this.getCellCtrl(o.type,n.idPrefix,o.name,t);return null===r?null:"checkbox"===o.type?r.checked?1:0:r.value}},{key:"getRowValue",value:function(e,t){var n=this,o={},r=p(t)?"":"_"+t;return n.settings.columns.forEach(function(t,i){var l=t.name+r;o[l]=n.getCtrlValue(i,e)}),o}},{key:"findRowIndex",value:function(e){for(var t=0;t<this.rowOrder.length;t++)if(this.rowOrder[t]===e)return t;return null}},{key:"saveSetting",value:function(){document.getElementById(this.settings.idPrefix+"_rowOrder").value=this.rowOrder.join()}},{key:"sortSequence",value:function(e){if(!this.settings.hideRowNumColumn)for(var t=e||0;t<this.rowOrder.length;t++)document.getElementById(this.settings.idPrefix+"_$RowNum_"+this.rowOrder[t]).innerText=""+(t+1)}},{key:"rowButtonActions",value:function(e,t){"insert"===e?this.insertRow(1,null,t):"remove"===e?this.removeRow(null,t):"moveUp"===e?this.moveUpRow(null,t):"moveDown"===e&&this.moveDownRow(null,t)}}])&&ge(t.prototype,n),o&&ge(t,o),e}();function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _e=new WeakMap,ke={element:null,uiFramework:null,uiParams:null,iconFramework:null,iconParams:null,initRows:3,idPrefix:null,initData:null,columns:[],hideButtons:null,hideRowNumColumn:!1,rowButtonsInFront:!1,rowCountName:"_RowCount",sectionClasses:null},Pe={type:"text",name:null,value:null,display:null,displayCss:null,displayClass:null,displayTooltip:null,headerSpan:1,cellCss:null,cellClass:null,ctrlAttr:null,ctrlProp:null,ctrlCss:null,ctrlClass:null,ctrlOptions:null,invisible:!1,emptyCriteria:null,customBuilder:null,customGetter:null,customSetter:null,events:null,wrapper:null},je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Object.assign({},ke,t),o={append:!1,removeLast:!1,insert:!1,remove:!1,moveUp:!1,moveDown:!1};n.hideButtons&&Object.assign(o,n.hideButtons),n.hideButtons=o;for(var r=0;r<n.columns.length;r++){var i=Object.assign({},Pe,n.columns[r]);n.columns[r]=i}_e.set(this,new Oe(n))}var t,n,o;return t=e,(n=[{key:"appendRow",value:function(e){_e.get(this).appendRow(e)}},{key:"insertRow",value:function(e,t,n){_e.get(this).insertRow(e,t,n)}},{key:"load",value:function(e){_e.get(this).loadData(e,!0)}},{key:"getAllValue",value:function(e){var t=_e.get(this),n=e?{}:[];return t.rowOrder.forEach(function(o,r){e?Object.assign(n,t.getRowValue(o,r)):n.push(t.getRowValue(o))}),e&&(n[t.settings.rowCountName]=t.rowOrder.length),n}},{key:"getRowOrder",value:function(){return _e.get(this).rowOrder.slice()}}])&&Ce(t.prototype,n),o&&Ce(t,o),e}();t.default=je}]).default});